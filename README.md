# 股指期货跨品种套利策略复现与优化

[![EN](https://img.shields.io/badge/lang-English-blue.svg)](./README.en.md)
[![CN](https://img.shields.io/badge/lang-中文-red.svg)](./README.md)

> **License**
> 本仓库代码以 **PolyForm Noncommercial License 1.0.0** 发布，仅供学习、研究与非商业评估使用。
> **任何商业使用均需取得单独授权**。商业授权请联系：[yyyao75@163.com](mailto:yyyao75@163.com)
> 详见 [LICENSE](./LICENSE) 与 [COMMERCIAL.md](./COMMERCIAL.md)。

---

## 📘 项目简介

本项目基于 **东证期货金工团队研究报告**《股指期货套利策略系列四：跨品种套利的基差、动量与季节性特征》进行复现与优化，目标是构建一个具备：

* **策略逻辑清晰**：完整覆盖基差、动量、季节性三类核心信号；
* **模块化架构**：可扩展、可复用的量化研究框架；
* **工程化实现**：从数据加载到回测执行的一站式流程。

---

## ✨ 核心功能

* **跨品种套利信号体系**

  * **基差信号**：基于股指期货与现货的年化基差差，捕捉价差收敛机会；
  * **动量信号**：应用多种技术指标（均线、通道突破、趋势强度等），提取大小盘轮动趋势；
  * **季节性信号**：基于历史统计（月度胜率、春节效应），在特定窗口增强信号权重。

* **模块化架构**

  * `data_utils`：数据读取与预处理（基差、价差、波动率计算）
  * `signal_utils`：基差、动量、季节性信号函数库
  * `strategy_utils`：多因子信号合成与仓位决策
  * `backtest_utils`：轻量级回测引擎与绩效分析
  * `factor_selection`：因子筛选与参数优化（支持网格搜索与 JSON 复用）
  * `picture_utils`：策略净值与信号可视化

* **灵活配置与自动化执行**

  * `config.py` 集中管理品种映射、回测区间、参数空间；
  * `run_strategy` 一键完成：数据加载 → 信号生成 → 回测 → 结果落地。

* **直观绩效分析**

  * 单/多策略净值曲线、仓位信号图；
  * 因子筛选结果对比，支持报告撰写与快速迭代。

---

## 📈 策略逻辑

策略收益主要来自三大来源：

1. **基差收敛（结构性收益）**

   * 合约临近交割时，期货与现货的基差趋于收敛；
   * 年化基差差越大，套利空间越大，仓位越积极。

2. **跨品种价差动量（趋势性收益）**

   * 大小盘与行业风格切换通常具备“慢变量”特征；
   * 动量信号捕捉趋势行情，胜率中等但盈亏比高。

3. **季节性溢价（时间效应收益）**

   * 春节后小盘相对大盘胜率接近 100%，其他月份亦具备显著规律；
   * 历史月度胜率用于加权信号，提升持仓稳定性。

> **信号合成方式**
> 基差信号（20%） + 动量信号（80%） → 初始信号
> 
> 初始信号 × 季节性加权 → 最终交易信号（离散化映射为仓位 0, ±0.5, ±1, ±1.5）

---

## 🚀 快速上手

```bash
# 安装依赖
pip install -r requirements.txt

# 运行因子筛选
python src/factor_selection.py

# 运行策略主流程
python src/main.py
```

> ⚠️ 若需使用 Wind / iFind 数据源，请确保本地已配置环境。

---

## 🧠 策略思路与优势

* **多因子驱动**：基差（结构性）× 动量（择时）× 季节性（稳定性）
* **跨品种套利**：结合相关性与协整关系，捕捉价差偏离
* **执行解耦**：信号端输出目标仓位，执行端负责调仓与风控
* **风险控制**：资金利用率、敞口限制、滑点/手续费模拟
* **可扩展性**：支持因子拓展、参数优化、组合策略配置

---

## 🔧 不足与后续优化

* 高频数据处理尚未完全集成（分钟级指数数据）
* 横截面策略的复现与组合优化仍在完善中
* 尚未引入交易成本/滑点模型 → 需增强实盘可行性
* 与商品套利、期权策略的多策略组合优化可进一步拓展

---

## 📞 联系方式 / 致谢

* 感谢 **东证期货金工团队** 提供的研究资料与方法论。
* 出于知识产权保护目的部分研究结果及代码数据未完全上传，可邮件联系咨询。
* 如有问题或合作意向，欢迎联系：**[yyyao75@163.com](mailto:yyyao75@163.com)**

>声明：本项目目前处于阶段性完成状态，短期内暂不更新。坦率地说，我深知代码在结构设计、运行效率以及复杂度控制等方面还存在诸多不足。若您在阅读和使用过程中发现问题，欢迎毫不保留地批评与指正。我始终相信，真诚的交流与分享是彼此进步的起点，也是这份工作的最大意义所在。

